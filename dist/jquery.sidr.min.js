/*! Sidr - v1.2.1 - 2015-09-03
 * https://github.com/artberri/sidr
 * Copyright (c) 2015 Alberto Varela; Licensed MIT */
!function(a){var b=!1,c=!1,d={isUrl:function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)?!0:!1},loadContent:function(a,b){a.html(b)},addPrefix:function(a){var b=a.attr("id"),c=a.attr("class");"string"==typeof b&&""!==b&&a.attr("id",b.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof c&&""!==c&&"sidr-inner"!==c&&a.attr("class",c.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),a.removeAttr("style")},execute:function(d,f,g){"function"==typeof f?(g=f,f="sidr"):f||(f="sidr");var h,i,j=a("#"+f),k=a(j.data("body")),l=(a("html"),j.outerWidth(!0)),m=j.data("speed"),n=j.data("side"),o=j.data("displace"),p=j.data("onOpen"),q=j.data("onClose");if("open"===d||"toggle"===d&&!j.is(":visible")){if(j.is(":visible")||b)return;if(c!==!1)return void e.close(c,function(){e.open(f)});b=!0,"left"===n?(h={left:l+"px"},i={left:"0px"}):(h={left:-l+"px"},i={right:"0px"}),o&&k.velocity(h,{duration:m}),j.velocity(i,{duration:m,complete:function(){b=!1,c=f,"function"==typeof g&&g(f)},queue:!1}).css("display","block"),p()}else{if(!j.is(":visible")||b)return;b=!0,"left"===n?(h={left:0},i={left:"-"+l+"px"}):(h={left:0},i={right:"-"+l+"px"}),k.velocity(h,{duration:m}),j.velocity(i,{duration:m,complete:function(){j.hide(),b=!1,c=!1,"function"==typeof g&&g(f)},queue:!1}),q()}}},e={open:function(a,b){d.execute("open",a,b)},close:function(a,b){d.execute("close",a,b)},toggle:function(a,b){d.execute("toggle",a,b)},toogle:function(a,b){d.execute("toggle",a,b)}};a.sidr=function(b){return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof b&&"string"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.sidr"):e.toggle.apply(this,arguments)},a.fn.sidr=function(f){var g=a.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},f),h=g.name,i=a("#"+h),j=a(g.body);if(0===i.length&&(i=a("<div />").attr("id",h).appendTo(j)),j.css({position:"relative"}),i.addClass("sidr").addClass(g.side).data({speed:g.speed,side:g.side,body:g.body,displace:g.displace,onOpen:g.onOpen,onClose:g.onClose}),"function"==typeof g.source){var k=g.source(h);d.loadContent(i,k)}else if("string"==typeof g.source&&d.isUrl(g.source))a.get(g.source,function(a){d.loadContent(i,a)});else if("string"==typeof g.source){var l="",m=g.source.split(",");if(a.each(m,function(b,c){l+='<div class="sidr-inner">'+a(c).html()+"</div>"}),g.renaming){var n=a("<div />").html(l);n.find("*").each(function(b,c){var e=a(c);d.addPrefix(e)}),l=n.html()}d.loadContent(i,l)}else null!==g.source&&a.error("Invalid Sidr Source");return a("#"+h).find("a").click(function(){e.toggle(h)}),a(window).on("resize",function(){a.sidr("close",h)}),this.each(function(){var d=a(this),f=d.data("sidr");f||(c=!1,b=!1,d.data("sidr",h),d.click(function(a){a.preventDefault(),e.toggle(h)}))})}}(jQuery);